<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chatbot Anniversaire Styl√©</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to bottom, #1a1a1a, #0d0d0d);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 10px;
      box-sizing: border-box;
    }
    .chat-container {
      width: 100%;
      max-width: 400px;
      height: 90vh;
      background: #2d2d2d;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.5);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    .messages {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      gap: 10px;
      -webkit-overflow-scrolling: touch;
    }
    .message {
      display: flex;
      align-items: flex-end;
      max-width: 80%;
      padding: 10px 15px;
      border-radius: 20px;
      line-height: 1.4;
      animation: fadeIn 0.3s ease-in;
      word-wrap: break-word;
    }
    .user {
      margin-left: auto;
      background-color: #0066cc;
      color: #fff;
      border-bottom-right-radius: 0;
    }
    .bot {
      margin-right: auto;
      background-color: #3a3a3a;
      color: #e0e0e0;
      border-bottom-left-radius: 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .bot-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      flex-shrink: 0;
      background-color: #555;
    }
    .input-area {
      display: flex;
      border-top: 1px solid #444;
      background: #1f1f1f;
    }
    input {
      flex: 1;
      padding: 12px;
      border: none;
      outline: none;
      font-size: 16px;
      background: #1f1f1f;
      color: #e0e0e0;
    }
    input::placeholder {
      color: #888;
    }
    button {
      padding: 12px 18px;
      border: none;
      background: #0066cc;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:hover {
      background: #004a99;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* Scrollbar personnalis√©e pour dark mode */
    .messages::-webkit-scrollbar {
      width: 8px;
    }
    .messages::-webkit-scrollbar-track {
      background: #1f1f1f;
    }
    .messages::-webkit-scrollbar-thumb {
      background: #555;
      border-radius: 4px;
    }
    .messages::-webkit-scrollbar-thumb:hover {
      background: #666;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div class="messages" id="messages"></div>
    <div class="input-area">
      <input id="userInput" type="text" placeholder="√âcris un message..." />
      <button onclick="sendMessage()">Envoyer</button>
    </div>
  </div>
  
  <script>
    // M√©moire du dernier type de r√©ponse du bot
    let lastBotCategory = null;

    const selectionMessage = "Bonjour ! Pose-moi une question sur l'anniversaire : *O√π*, *Quand*, *Comment venir*, *Programme*. Ou demande-moi autre chose !";

    const infoResponses = {
      'o√π': "La maison se trouve √† Villiers-Saint-Beno√Æt mais on n'a toujours pas l'adresse exacte.",
      'quand': "Du vendredi 06 f√©vrier 2026 √† 18h au dimanche 08 f√©vrier 2026 √† 18h.",
      'comment venir': "Inscrivez-vous sur le Google Sheet pr√©vu √† cet effet ! Vous trouverez s√ªrement quelqu'un pour vous emmener en voiture. Sinon, prenez le train jusqu'√† Joigny (30 min du lieu). Quelqu'un viendra peut-√™tre vous chercher...",
      'programme': "Le programme sera annonc√© plus tard ‚Äî ou improvis√© sur le moment, soyons honn√™tes."
    };

    // R√©ponses aux questions typiques
    const questionsTypiques = {
      'salut': ["Salut ! Pr√™t pour l'anniversaire ?", "Hey ! Besoin d'infos sur la f√™te ?", "Coucou ! Comment je peux t'aider ?"],
      'bonjour': ["Bonjour ! Tu veux des infos sur l'anniversaire ?", "Hello ! Besoin de quelque chose ?", "Salut ! Je t'√©coute !"],
      'hello': ["Hello ! Pr√™t √† faire la f√™te ?", "Hey ! Quoi de neuf ?", "Yo ! Comment √ßa va ?"],
      '√ßa va': ["√áa va super, je suis un bot donc pas de soucis existentiels ! Et toi ?", "Tranquille, j'attends l'anniversaire ! Et toi ?", "Nickel, toujours pr√™t √† aider ! Toi √ßa va ?"],
      'ca va': ["√áa va super, je suis un bot donc pas de soucis existentiels ! Et toi ?", "Tranquille, j'attends l'anniversaire ! Et toi ?", "Nickel, toujours pr√™t √† aider ! Toi √ßa va ?"],
      'comment √ßa va': ["√áa roule ! Je suis juste un bot mais je me sens bien. Et toi ?", "Super bien ! Toujours l√† pour toi. Comment tu vas ?", "Tranquille ! Besoin de quelque chose ?"],
      'comment ca va': ["√áa roule ! Je suis juste un bot mais je me sens bien. Et toi ?", "Super bien ! Toujours l√† pour toi. Comment tu vas ?", "Tranquille ! Besoin de quelque chose ?"],
      'quoi de neuf': ["Pas grand-chose, j'attends l'anniversaire ! Et toi ?", "Rien de sp√©cial, je suis un bot. Besoin d'infos ?", "Tranquille ! Tu cherches des infos sur la f√™te ?"],
      'qui es-tu': ["Je suis le bot de l'anniversaire de Chris ! Pose-moi des questions.", "Un chatbot cr√©√© pour t'aider avec l'anniversaire !", "Le meilleur bot d'anniversaire du monde (modestie, quand tu nous tiens)."],
      'qui es tu': ["Je suis le bot de l'anniversaire de Chris ! Pose-moi des questions.", "Un chatbot cr√©√© pour t'aider avec l'anniversaire !", "Le meilleur bot d'anniversaire du monde (modestie, quand tu nous tiens)."],
      'c\'est quoi': ["C'est un chatbot pour l'anniversaire ! Demande-moi ce que tu veux savoir.", "Un bot super styl√© pour t'aider avec la f√™te !", "Ton assistant virtuel pour l'anniversaire de Chris !"],
      'aide': ["Demande-moi : *O√π*, *Quand*, *Comment venir*, *Programme*. Ou √©cris *Avis*, *Histoire*, *Encouragement*, *R√©aliste*, ou *Moi* !", "Je peux r√©pondre √† plein de trucs ! Essaie *O√π*, *Quand*, *Programme*, ou m√™me *Histoire* pour une anecdote !", "Pose-moi des questions sur l'anniversaire, ou demande des trucs random !"],
      'lol': ["üòÇ", "Mdr !", "Ahah content que √ßa te fasse rire !"],
      'mdr': ["üòÇ", "Ahah !", "Content que tu rigoles !"],
      'ok': ["Ok cool !", "üëç", "Nickel !"],
      'd\'accord': ["Parfait !", "Super !", "üëå"],
      'daccord': ["Parfait !", "Super !", "üëå"],
      'wow': ["Wow toi-m√™me ! ü§©", "Ouais c'est incroyable hein !", "Je sais, c'est impressionnant !"],
      'super': ["Content que √ßa te plaise ! üéâ", "Ouais c'est cool hein !", "Grave ! üòÑ"],
      'g√©nial': ["Je sais ! üòé", "Heureux que tu trouves √ßa g√©nial !", "Carr√©ment ! üî•"],
      'genial': ["Je sais ! üòé", "Heureux que tu trouves √ßa g√©nial !", "Carr√©ment ! üî•"],
      'cool': ["Trop cool ! üòé", "Ouais c'est styl√© !", "Content que √ßa te plaise !"],
      'styl√©': ["Merci, je fais de mon mieux ! üíÖ", "Styl√© toi-m√™me !", "Trop sympa ! üòÑ"],
      'style': ["Merci, je fais de mon mieux ! üíÖ", "Styl√© toi-m√™me !", "Trop sympa ! üòÑ"],
      'incroyable': ["Je sais, c'est dingue ! ü§Ø", "Carr√©ment incroyable !", "N'est-ce pas ? üòÆ"],
      'parfait': ["Exactement ! üëå", "Parfait alors !", "Nickel ! ‚ú®"],
      'excellent': ["Merci ! üåü", "Content que √ßa te plaise !", "Excellent toi-m√™me !"],
      'top': ["Top moumoute ! üîù", "Ouais c'est top !", "Merci ! üòä"],
      'bravo': ["Merci beaucoup ! üéä", "Trop gentil !", "√áa fait plaisir ! üòä"],
      'bien': ["Cool ! üëç", "Tant mieux !", "Nickel alors !"],
      'nice': ["Nice ! üòé", "Ouais ! ü§ô", "Trop bien !"],
      'sympa': ["Merci c'est gentil ! üòä", "Toi aussi tu es sympa !", "Content que √ßa te plaise !"]
    };

    // Cat√©gories sp√©cifiques pour les funny replies
    const funnyCategories = {
      'avis': [
        "Je trouve que L√©onard de Vinci, en tant qu'inventeur, c'est surc√¥t√©. Il n'aurait jamais eu le prix Nobel",
        "Le groupe de musique Nickelback c'est bien en vrai",
        "Les gens qui se battent contre l'√©criture inclusive c'est vraiment ringard.",
        "La s√©rie Les Anneaux du Pouvoir c'est vraiment, mais vraiment, nul.",
        "Je n'aime pas les brunchs en restaurant, c'est trop cher pour ce que c'est.",
        "Toulouse est une tr√®s jolie ville.",
        "Les pommes de terre grenailles sont les meilleures.",
        "Nutella banane c'est incroyable.",
        "Friends est une bonne s√©rie",
        "C'est pas fou les concerts au stade de France. La sonorit√© est tr√®s mauvaise.",
        "Berlin c'est cool.",
        "Si tout le monde prenait du LSD, il y aurait moins de guerre dans le monde."
      ],
      
      'histoire': [
        "Le pr√©sident am√©ricain Calvin Coolidge avait un raton laveur apprivois√© nomm√© Rebecca qui vivait √† la Maison Blanche et se promenait en laisse comme un chien.",
        "Les anciens √âgyptiens utilisaient des crottes de crocodile comme contraceptif, les ins√©rant dans le vagin en esp√©rant que l'acidit√© bloquerait la conception.",
        "Napol√©on Bonaparte a √©t√© attaqu√© par une horde de lapins lors d'une chasse organis√©e en son honneur. Des centaines de lapins domestiques ont √©t√© l√¢ch√©s mais au lieu de fuir, ils ont charg√© l'empereur.",
        "Au Moyen √Çge, les proc√®s d'animaux √©taient courants. Des cochons, des rats et m√™me des insectes √©taient jug√©s devant un tribunal pour leurs 'crimes', avec avocat de la d√©fense et tout.",
        "Le pr√©sident Andrew Jackson a organis√© une √©norme f√™te √† la Maison Blanche avec un fromage de 635 kg. Il a invit√© tout le monde √† venir en manger, et l'odeur est rest√©e pendant des mois.",
        "Les gladiateurs romains faisaient la publicit√© pour des produits, exactement comme les athl√®tes modernes. On a retrouv√© des graffitis avec des endorsements de gladiateurs c√©l√®bres.",
        "Le philtre d'amour pr√©f√©r√© de Cl√©op√¢tre √©tait fait de perles dissoutes dans du vinaigre. Elle aurait dissous une perle valant des millions dans son verre pour impressionner Marc Antoine.",
        "Les dentiers de George Washington n'√©taient pas en bois mais faits de dents humaines, de dents d'hippopotame, d'ivoire et de plomb. Certainement pas confortables.",
        "Dans la Rome antique, l'urine √©tait utilis√©e comme produit de blanchiment pour les dents et le linge. Elle √©tait tellement pris√©e qu'elle √©tait tax√©e par l'empereur Vespasien.",
        "Le roi Henri III de France se d√©pla√ßait partout avec un panier rempli de petits chiens qu'il portait autour du cou et les habillait avec des v√™tements miniatures co√ªteux."
      ],
      
      'encouragement': [
        "Tu es une personne unique et irrempla√ßable",
        "Tu es g√©niale exactement comme tu es",
        "Ta pr√©sence illumine la vie de ceux qui t'entourent",
        "Tu as une force incroyable en toi",
        "Tu m√©rites toutes les belles choses qui t'arrivent",
        "Tes efforts ne passent pas inaper√ßus, tu fais du super boulot",
        "Tu as le pouvoir de transformer tes r√™ves en r√©alit√©",
        "Le monde est meilleur avec toi dedans",
        "Tu es plus courageuse que tu ne le crois",
        "Ta gentillesse fait une vraie diff√©rence autour de toi"
      ],
      
      'r√©aliste': [
        "Tu n'as rien d'exceptionnel mais c'est pas grave, la plupart des gens non plus",
        "Tes probl√®mes ne sont pas uniques, des millions de personnes vivent la m√™me chose",
        "Tu seras oubli√© rapidement apr√®s ta mort et c'est normal",
        "Personne ne remarquera vraiment si tu rates cette journ√©e",
        "Tes choix n'ont probablement pas autant d'impact que tu le penses",
        "Tu es statistiquement moyen dans presque tout et c'est acceptable",
        "La plupart de tes efforts passeront inaper√ßus mais continue quand m√™me",
        "Tu ne changeras probablement pas le monde mais tu peux am√©liorer ton petit coin",
        "Tes ins√©curit√©s sont banales, tout le monde en a des similaires",
        "Tu n'es pas le h√©ros de l'histoire de tout le monde, juste de la tienne",
        "Tes erreurs d'hier sont d√©j√† oubli√©es par les autres, seul toi y penses encore",
        "Tu ne seras jamais pr√™t √† 100%, il faut avancer quand m√™me",
        "Personne n'a vraiment tout compris, on fait tous semblant un peu",
        "Tes parents ont aussi improvis√© en t'√©levant, ils ne savaient pas tout",
        "Tu vieillis chaque jour et c'est irr√©versible, autant l'accepter maintenant"
      ],
      
      'moi': [
        "Je porte plusieurs fois les m√™mes chaussettes d'affil√©e",
        "Mon film pr√©f√©r√© c'est Kung Fu Panda",
        "Je ne peux plus boire de Tequila depuis ma premi√®re ann√©e d'√©tude.",
        "J'ai commenc√© la guitare pendant le 1er confinement.",
        "Quand j'√©tais petit, je voulais √™tre pal√©ontologue mais apr√®s on m'a dit qu'il fallait beaucoup travailler √† l'√©cole ducoup je suis devenu fonctionnaire.",
        "Je sais tr√®s mal danser les danses de couple.",
        "Je n'aime pas les fascistes.",
        "Je n'aime pas aller au cin√©ma.",
        "Je suis un grand fan de Hard Techno et de blues.",
        "J'aime la mode gothique",
        "J'aime beaucoup Edgar Allan Poe",
        "Je n'ai jamais v√©cu en Angleterre malgr√© ma double nationalit√©."
      ]
    };

    // Liste de gros mots √† d√©tecter
    const grosMots = ['merde', 'putain', 'con', 'connard', 'salope', 'pute', 'chier', 'bordel', 'encul√©', 'bite', 'couille', 'fuck'];

    // Funny replies g√©n√©ralistes qui proposent des options
    const funnyReplies = [
      "J'ai rien compris mais... Je peux √©ventuellement te donner mon avis sur quelque chose d'al√©atoire ? √âcris *Avis*.",
      "J'ai rien compris mais... Je peux te raconter une anecdote historique totalement inutile. √âcris *Histoire*.",
      "J'ai rien compris mais... Je peux t'envoyer soit un message encourageant soit un message r√©aliste. √âcris *Encouragement* ou *R√©aliste*.",
      "J'ai rien compris mais... Je peux te donner une information al√©atoire sur Chris. √âcris *Moi*."
    ];

    // Fonction pour faire d√©filer automatiquement vers le bas
    function scrollToBottom() {
      const messages = document.getElementById('messages');
      messages.scrollTop = messages.scrollHeight;
    }

    // Afficher le message de bienvenue au chargement
    window.addEventListener('DOMContentLoaded', function() {
      addMessage(selectionMessage, 'bot');
    });

    function sendMessage() {
      const input = document.getElementById('userInput');
      const text = input.value.trim();
      if (!text) return;

      addMessage(text, 'user');
      input.value = '';
      
      // Petit d√©lai pour la r√©ponse du bot
      setTimeout(() => {
        respond(text.toLowerCase());
      }, 300);
    }

    function respond(text) {
      let response = null;

      // V√©rifier les gros mots en premier
      const containsGrosMot = grosMots.some(mot => text.includes(mot));
      if (containsGrosMot) {
        response = "Je suis choqu√© de ton langage... üò±";
        addMessage(response, 'bot');
        return;
      }

      // V√©rifier si c'est un merci
      if (text.includes('merci')) {
        response = "Pas de probl√®me !";
        addMessage(response, 'bot');
        return;
      }

      // V√©rifier les questions typiques
      for (let key in questionsTypiques) {
        if (text.includes(key)) {
          const options = questionsTypiques[key];
          response = options[Math.floor(Math.random() * options.length)];
          addMessage(response, 'bot');
          return;
        }
      }

      // V√©rifier si la r√©ponse info fixe existe
      for (let key in infoResponses) {
        if (text.includes(key)) {
          lastBotCategory = null;
          response = infoResponses[key];
          break;
        }
      }

      // Si pas de r√©ponse fixe, v√©rifier si l'utilisateur appelle une cat√©gorie dr√¥le
      if (!response) {
        for (let category in funnyCategories) {
          if (text.includes(category)) {
            lastBotCategory = category;
            const options = funnyCategories[category];
            response = options[Math.floor(Math.random() * options.length)];
            break;
          }
        }
      }

      // Si toujours rien : r√©ponse dr√¥le g√©n√©rale + m√©morisation
      if (!response) {
        lastBotCategory = 'generalFunny';
        response = funnyReplies[Math.floor(Math.random() * funnyReplies.length)];
      }

      addMessage(response, 'bot');
    }

    function addMessage(text, sender) {
      const messages = document.getElementById('messages');
      const div = document.createElement('div');
      div.className = 'message ' + sender;
      
      if (sender === 'bot') {
        const img = document.createElement('img');
        img.src = 'https://raw.githubusercontent.com/ILikeNickelback/ChrisBot/blob/main/IMG_20260103_145641.jpg'
        div.appendChild(img);
        
        const textSpan = document.createElement('span');
        textSpan.textContent = text;
        div.appendChild(textSpan);
      } else {
        div.textContent = text;
      }
      
      messages.appendChild(div);
      
      // D√©filement automatique vers le bas
      scrollToBottom();
    }

    // Permettre l'envoi avec la touche Entr√©e
    document.getElementById('userInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });
  </script>
</body>
</html>